name: Run Python Scripts from Day_XX Folders

on:
  push:
    branches:
      - main

jobs:
  run-daily-python:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ›’ Checkout Repo
        uses: actions/checkout@v3

      - name: ğŸ Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: ğŸ“¦ Install dependencies (if needed)
        run: |
          if [ -f requirements.txt ]; then
            pip install -r requirements.txt
          fi

      - name: ğŸš€ Run all Python scripts inside Day_XX folders
        run: |
          echo "ğŸ” Searching for Python files in Day_XX folders..."
          for file in $(find . -type f -path "./Day_*/*.py"); do
            echo "â–¶ï¸ Found $file"
            if grep -q "input(" "$file"; then
              echo "â­ï¸ Skipping $file â€” uses input() (not supported in CI)"
              continue
            fi
            echo "âš™ï¸ Running $file"
            python3 "$file"
            echo "âœ… Finished $file"
          done
